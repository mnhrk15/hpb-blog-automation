# HotPepper Beauty ブログ自動生成・投稿アプリ 実装タスクリスト

## 1. 環境構築
- [x] 必要なライブラリのインストール (Flask, Playwright, Gemini API クライアント等)
- [ ] 開発環境の構築 (Docker等)
- [x] 環境変数の設定 (APP_PASSWORD, GEMINI_API_KEY等)

## 2. バックエンド実装
- [x] Flaskアプリケーションの基本構造作成
- [x] ログイン機能の実装
- [x] 画像アップロード機能の実装
- [x] Gemini APIとの連携実装
- [x] HPBスクレイピング機能の実装 (スタイリスト情報取得)
- [x] HPBスクレイピング機能の実装 (クーポン情報取得)
- [x] サロンボード自動投稿機能の実装
- [x] エラーハンドリングの実装 (ロボット認証検出を含む)

## 3. フロントエンド実装
- [x] ログイン画面のUI作成
- [x] 画像アップロード画面のUI作成
- [x] ブログ生成・編集画面のUI作成
- [x] スタイリスト・クーポン選択UI作成
- [x] テンプレート入力フォーム作成
- [x] サロンボード投稿フォーム作成
- [x] ローディング表示の実装
- [x] エラーメッセージ表示の実装

## 4. Playwrightスクリプト実装
- [x] HPB店舗ページスクレイピングスクリプト作成
- [x] HPBスタイリスト情報取得処理の実装
- [x] HPBクーポン情報取得処理の実装
- [x] サロンボードログイン処理の実装
- [x] ブログ投稿ページへの遷移処理の実装
- [ ] ブログ内容入力処理の実装
- [ ] 画像アップロード処理の実装
- [ ] クーポン選択処理の実装
- [ ] ロボット認証検出処理の実装

## 5. Gemini API連携実装
- [x] 画像からヘアスタイル情報抽出機能の実装
- [x] ブログタイトル生成機能の実装
- [x] ブログ本文生成機能の実装
- [x] 画像挿入位置指示機能の実装

## 6. テスト・デバッグ
- [x] ユニットテストの作成・実行
- [x] 統合テストの作成・実行
- [x] スクレイパー機能のテスト（スタイリスト・クーポン情報取得）
- [x] エラーハンドリングのテスト
- [x] ロボット認証検出のテスト
- [ ] 実際のサロンボードでの投稿テスト

## 7. デプロイ
- [ ] サーバー環境の準備
- [ ] HTTPS設定
- [ ] 環境変数の設定
- [ ] アプリケーションのデプロイ
- [ ] 動作確認

## 8. 保守・運用準備
- [ ] 保守用ドキュメントの作成
- [x] HPB/サロンボードのセレクタ情報の整理（スクレイパー部分）
- [ ] 利用マニュアルの作成

## 9. 追加の改善事項
- [x] クーポンスクレイパーの強化（見出し行フィルタリング、ページネーション対応）
- [x] スタイリストスクレイパーの強化（テーブル要素対応、IDの抽出改善）
- [x] エンドツーエンドテストスクリプト作成（クーポン・スタイリスト情報取得）
- [x] Webインターフェースとのスクレイパー連携実装
- [x] 画像のサロンボードへのアップロード処理最適化
- [x] 複数サイト構造への対応力強化（セレクタの多重化・バックアップ）
