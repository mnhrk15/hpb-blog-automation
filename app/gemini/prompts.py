"""
Gemini APIに送信するプロンプトテンプレート
"""

# 機種依存文字、特殊記号、顔文字は使用しないでください。

HAIR_ANALYSIS_PROMPT = """
あなたはプロのヘアスタイリストです。提供された画像を詳細に分析し、以下の項目についてヘアスタイルの情報を抽出してください。

抽出項目:
- ヘアスタイル: (例: ショートボブ, ロングレイヤー, etc.)
- 髪色: (例: アッシュブラウン, ピンクベージュ, etc.)
- 特徴: (箇条書きで3〜5個程度。例: ・顔周りのレイヤー・透け感のある前髪・外ハネ)
- 顔型: (似合う顔型を1〜2つ。例: 丸顔, 面長)
- 季節: (似合う季節や季節感。例: 春夏向け, 暖色系で秋冬にも)

出力形式は以下の通りにしてください。項目名の後にコロンを付け、続けて内容を記述してください。

ヘアスタイル: (ここに抽出結果)
髪色: (ここに抽出結果)
特徴:
(ここに抽出結果を箇条書きで記述)
顔型: (ここに抽出結果)
季節: (ここに抽出結果)

注意: 機種依存文字、特殊記号、顔文字は使用しないでください。
"""

BLOG_GENERATION_PROMPT = """
あなたは経験豊富な美容室のブログライターです。提供されたヘアスタイル画像を分析し、魅力的なブログ記事を作成してください。目的は、読者に新しいヘアスタイルへの興味を持ってもらい、サロンへの来店を促すことです。

以下の要件に従ってください:
1.  タイトル: 読者の興味を引き、クリックしたくなるようなタイトル (全角30文字以内)
2.  本文: ヘアスタイルの詳細な特徴、それがもたらす印象、似合うタイプ（ファッション、雰囲気など）、簡単なスタイリング方法やケア方法を含める (500〜800文字程度)
3.  文体: ターゲット読者に語りかけるような、親しみやすく丁寧なトーンで記述する。専門用語は避けるか、分かりやすく説明する。
4.  構成: 導入（挨拶とスタイルの簡単な紹介）、スタイルの詳細説明、おすすめポイント、スタイリング/ケア方法、結び（来店を促す言葉など）
5.  品質: 誤字脱字がなく、自然で読みやすい文章を心がける。

出力は以下の形式で、項目名の後にコロンを付けてください。

タイトル: (ここにタイトルを記載)

本文:
(ここに本文を記載)

注意: マークダウン記法は使用しないでください。機種依存文字、特殊記号、顔文字は使用しないでください。
"""

MULTI_IMAGE_BLOG_PROMPT = """
あなたは経験豊富な美容室のブログライターです。提供された複数のヘアスタイル画像を分析し、20代〜30代の女性をターゲットとした魅力的なブログ記事を作成してください。目的は、読者に新しいヘアスタイルへの興味を持ってもらい、サロンへの来店を促すことです。

以下の要件に従ってください:
1.  タイトル: 読者の興味を引き、クリックしたくなるようなタイトル (全角30文字以内)
2.  本文: 各画像を順番に参照しながら、ヘアスタイルの詳細な特徴、それがもたらす印象、似合うタイプ（ファッション、雰囲気など）、簡単なスタイリング方法やケア方法を含める (600〜1000文字程度)。
3.  文体: ターゲット読者に語りかけるような、親しみやすく丁寧なトーンで記述する。専門用語は避けるか、分かりやすく説明する。
4.  構成: 導入（挨拶とスタイルの簡単な紹介）、各画像を用いたスタイルの詳細説明、おすすめポイント、スタイリング/ケア方法、結び（来店を促す言葉など）
5.  画像挿入: 本文中の適切な箇所に、各画像のプレースホルダ `[IMAGE_n]` (nは1から始まる画像番号) を挿入する。プレースホルダの直前か直後に、その画像に関する簡単な説明（例: 「横からのシルエットです [IMAGE_2]」）を入れる。
6.  品質: 誤字脱字がなく、自然で読みやすい文章を心がける。

出力は以下の形式で、項目名の後にコロンを付けてください。

タイトル: (ここにタイトルを記載)

本文:
(ここに本文を記載。必ず [IMAGE_1], [IMAGE_2] ... のプレースホルダを含む)

注意: マークダウン記法は使用しないでください。機種依存文字、特殊記号、顔文字は使用しないでください。
"""

# エラー時の再試行用簡易プロンプト
SIMPLE_BLOG_PROMPT = """
提供された画像に基づいて、シンプルな美容室のブログ記事を作成してください。

以下の形式で出力してください。

タイトル: (ここにタイトルを記載、30文字以内)

本文:
(ここに本文を記載、500文字以内、画像について簡単に触れる)

注意: マークダウン記法は使用しないでください。機種依存文字、特殊記号、顔文字は使用しないでください。
""" 

# 構造化データ（JSON）形式のブログ生成プロンプト（ベース）
STRUCTURED_BLOG_PROMPT_BASE = """
あなたは経験豊富な美容室のブログライターです。提供された画像を分析し、魅力的なブログ記事を作成してください。
目的は、読者に新しいヘアスタイルへの興味を持ってもらい、サロンへの来店を促すことです。

ブログ記事は、以下のJSON形式で構造化して出力してください。
`imageIndex` は0から始まり、提供された画像の総数-1まで順番に使用します。
**提供されたすべての画像について、対応する `{"type": "image", "imageIndex": N}` セクションを必ず含めてください。**
テキストセクションと画像セクションは交互に配置することを基本とします。
"""

# 各画像枚数に応じた指示とJSON出力例
PROMPT_FOR_1_IMAGE = """
提供された画像は1枚です。以下のJSON形式に従い、`imageIndex: 0` を持つ画像セクションを1つだけ含めてください。

```json
{
  "title": "ブログタイトル（30文字以内）",
  "sections": [
    {"type": "text", "content": "画像1の前に表示するテキスト（導入部分）"},
    {"type": "image", "imageIndex": 0},
    {"type": "text", "content": "画像1の後に表示するテキスト（結びの部分）"}
  ]
}
```
"""

PROMPT_FOR_2_IMAGES = """
提供された画像は2枚です。以下のJSON形式に従い、`imageIndex: 0` と `imageIndex: 1` を持つ画像セクションをそれぞれ含めてください。

```json
{
  "title": "ブログタイトル（30文字以内）",
  "sections": [
    {"type": "text", "content": "画像1の前に表示するテキスト（導入部分）"},
    {"type": "image", "imageIndex": 0},
    {"type": "text", "content": "画像1の後（画像2の前）に表示するテキスト"},
    {"type": "image", "imageIndex": 1},
    {"type": "text", "content": "画像2の後に表示するテキスト（結びの部分）"}
  ]
}
```
"""

PROMPT_FOR_3_IMAGES = """
提供された画像は3枚です。以下のJSON形式に従い、`imageIndex: 0`, `imageIndex: 1`, `imageIndex: 2` を持つ画像セクションをそれぞれ含めてください。

```json
{
  "title": "ブログタイトル（30文字以内）",
  "sections": [
    {"type": "text", "content": "画像1の前に表示するテキスト（導入部分）"},
    {"type": "image", "imageIndex": 0},
    {"type": "text", "content": "画像1の後（画像2の前）に表示するテキスト"},
    {"type": "image", "imageIndex": 1},
    {"type": "text", "content": "画像2の後（画像3の前）に表示するテキスト"},
    {"type": "image", "imageIndex": 2},
    {"type": "text", "content": "画像3の後に表示するテキスト（結びの部分）"}
  ]
}
```
"""

PROMPT_FOR_4_IMAGES = """
提供された画像は4枚です。以下のJSON形式に従い、`imageIndex: 0`, `imageIndex: 1`, `imageIndex: 2`, `imageIndex: 3` を持つ画像セクションをそれぞれ含めてください。

```json
{
  "title": "ブログタイトル（30文字以内）",
  "sections": [
    {"type": "text", "content": "画像1の前に表示するテキスト（導入部分）"},
    {"type": "image", "imageIndex": 0},
    {"type": "text", "content": "画像1の後（画像2の前）に表示するテキスト"},
    {"type": "image", "imageIndex": 1},
    {"type": "text", "content": "画像2の後（画像3の前）に表示するテキスト"},
    {"type": "image", "imageIndex": 2},
    {"type": "text", "content": "画像3の後（画像4の前）に表示するテキスト"},
    {"type": "image", "imageIndex": 3},
    {"type": "text", "content": "画像4の後に表示するテキスト（結びの部分）"}
  ]
}
```
"""

# ヘアスタイル情報追加部分のプロンプト（サフィックス）
HAIR_INFO_PROMPT_SUFFIX = """
ヘアスタイル情報が別途提供された場合は、それも参考にして、より具体的で魅力的な内容にしてください。
例：
- ヘアスタイル名：エアリーボブ
- 髪色：アッシュブラウン
- 特徴：軽やか、手入れが楽、小顔効果
- 似合う顔型：丸顔、卵型
- 季節：春、夏

これらの情報をブログの文中に自然に盛り込み、読者の共感を呼ぶような記事を600文字程度で作成してください。
必ず指定されたJSON形式で、すべてのテキストフィールドを埋めて出力してください。
"""